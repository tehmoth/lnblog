<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>I don't hate everything: May 2009 Archives</title>
    <meta name="generator" content="Movable Type Open Source 4.1" />
    <link rel="stylesheet" href="../../styles.css" type="text/css" />
    
    
<link rel="alternate" type="application/atom+xml" title="Atom" href="../../atom.xml" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml" />
        
<link rel="start" href="../../../perl" title="Home" />
        
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="http://blogs.loveandnature.co.za/www/perl">
<dc:title>I don&apos;t hate everything</dc:title>
<dc:description>OpenBSD, Perl and PostgreSQL, these are some of my favourite things. Python, Ruby, MySQL, Linux and  &apos;non-relational databases&apos; like CouchDB will not be featured much, except as examples of doing it wrong.</dc:description>
<license rdf:resource="http://creativecommons.org/licenses/by/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by/3.0/">
</License>
</rdf:RDF>
-->

    

        <link rel="prev" href="../04/index.html" title="April 2009" />
        <link rel="next" href="../06/index.html" title="June 2009" />
    
</head>
<body class="mt-archive-listing mt-datebased-monthly-archive layout-tw">
    <div id="container">
        <div id="container-inner">
            <div id="header">
                <div id="header-inner">
                    <div id="header-content">

                        <div id="header-name"><a href="../../../perl" accesskey="1">I don't hate everything</a></div>
                        <div id="header-description">OpenBSD, Perl and PostgreSQL, these are some of my favourite things. Python, Ruby, MySQL, Linux and  'non-relational databases' like CouchDB will not be featured much, except as examples of doing it wrong.</div>

                    </div>
                </div>
            </div>
            <div id="content">
                <div id="content-inner">
                    <div id="alpha">
                        <div id="alpha-inner">


<h1 id="page-title" class="archive-title">

May 2009 Archives

</h1>


    
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://blogs.loveandnature.co.za/www/perl/2009/05/index.html#000224"
    trackback:ping="http://blogs.loveandnature.co.za/mt/trackback/6"
    dc:title="EPIC4? wtf?"
    dc:identifier="http://blogs.loveandnature.co.za/www/perl/2009/05/index.html#000224"
    dc:subject=""
    dc:description="Ok, so I was looking to integrate some perl scripts into my IRC client, which happens to be EPIC, version 4, as EPIC5 seems to be trying to be the Perl6 of the text-mode IRC clients, and I&apos;m not quite..."
    dc:creator="jamesw"
    dc:date="2009-05-19T14:59:57-08:00" />
</rdf:RDF>
-->

<div id="entry-224" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="epic4-wtf.html">EPIC4? wtf?</a></h2>
        <div class="asset-meta">
    <span class="byline vcard">

        By <address class="vcard author"><a class="fn url" href="http://www.loveandnature.co.za">jamesw</a></address> on <abbr class="published" title="2009-05-19T14:59:57-08:00">May 19, 2009  2:59 PM

    </span>
    <span class="separator">|</span> <a class="permalink" rel="bookmark" href="epic4-wtf.html">Permalink</a>
    
        
        
    
</div>

    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            Ok, so I was looking to integrate some perl scripts into my IRC client, which happens to be <a href="http://www.epicsol.org/">EPIC</a>, version 4, as EPIC5 seems to be trying to be the Perl6 of the text-mode IRC clients, and I'm not quite there yet (irssi, meanwhile is the Ruby of text-mode IRC clients).&nbsp; So I was looking for the correct syntax for the perlcall(6) function, (as opposed to the perl(6) and perlxcall(6) functions), and I get this from /HELP 6 perlcall:<br /><br /><blockquote>*** Help on perlcall<br /></blockquote>and that was it.&nbsp; Looking at /usr/local/share/epic/6_Functions/ for perlcall I see it is 0 bytes long.&nbsp; And so I look and there are 81 files like that.&nbsp; Shurely Shome mishtake right?&nbsp; Apparently not, asking in <a href="irc://irc.efnet.org/epic">#epic</a> I get informed that I should use the wiki, because 'it makes it a lot easier for us to give you correct/updated information'.&nbsp; Pathetic, really.&nbsp; Why can't the documentation be in source control and shipped with the source code?&nbsp; The online help pages that they have (which aren't categorized, its just a flat dump) could be generated from the text files instead.&nbsp; But oh no, we need a Wiki for documentation, and must have an internet connection just to read documentation, ugh.&nbsp; EPIC devs use Unix, right, they aren't hacking the source on their iPhones or Palms. right?<br /><br />Now, ironically, I will need the perl*call documentation to write a reader of the Wiki documentation so I can use it in EPIC (maybe).&nbsp; Lovely.&nbsp; More on that later.<br /><br />  
        </div>



    </div>
    <div class="asset-footer"></div>
</div>

    
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://blogs.loveandnature.co.za/www/perl/2009/05/index.html#000223"
    trackback:ping="http://blogs.loveandnature.co.za/mt/trackback/5"
    dc:title="Net::Azure and DBD::Azure anyone?"
    dc:identifier="http://blogs.loveandnature.co.za/www/perl/2009/05/index.html#000223"
    dc:subject=""
    dc:description="PHP SDK for Windows AzureSo, of course, to show its commitment to open-source, Microsoft has released PHP APIs for Windows Azure.&amp;nbsp; I&apos;m not sure I understand the love Microsoft has for PHP, but I could be snarky and say the..."
    dc:creator="jamesw"
    dc:date="2009-05-14T23:05:54-08:00" />
</rdf:RDF>
-->

<div id="entry-223" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="netazure-and-dbdazure-anyone.html">Net::Azure and DBD::Azure anyone?</a></h2>
        <div class="asset-meta">
    <span class="byline vcard">

        By <address class="vcard author"><a class="fn url" href="http://www.loveandnature.co.za">jamesw</a></address> on <abbr class="published" title="2009-05-14T23:05:54-08:00">May 14, 2009 11:05 PM

    </span>
    <span class="separator">|</span> <a class="permalink" rel="bookmark" href="netazure-and-dbdazure-anyone.html">Permalink</a>
    
        
        
    
</div>

    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            <a href="http://phpazure.codeplex.com/">PHP SDK for Windows Azure</a><br /><br />So, of course, to show its commitment to open-source, Microsoft has released PHP APIs for Windows Azure.&nbsp; I'm not sure I understand the love Microsoft has for PHP, but I could be snarky and say the PHP philosophy fits in neatly with Microsoft's languages philosophy.&nbsp; <br /><br />Anyway, as much as I wish Microsoft would introduce Perl APIs for Azure, I do not hold out much hope, and instead see this as an opportunity for enterprising Perl coders to outdo the official APIs and increase the number of problem domains where Perl is a possible solution.&nbsp; The API seems to be mostly HTTP and XML with some extensions (it is Microsoft, after all).&nbsp; If after completing the other 700 items in my todo list, this is still undone, I'll get right on it.<br /><br />Also worth noting, re: Azure, is FastCGI support, a definite plus for Perl developers.<br /><br />So, in summary, Web Apps, REST/XML and FastCGI.&nbsp; A near perfect fit for Perl, so how did we get to where <span class="mt-enclosure mt-enclosure-image" style="display: inline;"><a href="../../php.jpg">PHP</a></span> is the default, first choice language for this?&nbsp; <br /><br />Ugh.<br /><br />
        </div>



    </div>
    <div class="asset-footer"></div>
</div>

    
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://blogs.loveandnature.co.za/www/perl/2009/05/index.html#000222"
    trackback:ping="http://blogs.loveandnature.co.za/mt/trackback/4"
    dc:title="On KiokuDB"
    dc:identifier="http://blogs.loveandnature.co.za/www/perl/2009/05/index.html#000222"
    dc:subject=""
    dc:description="So as part of this &apos;Modern Perl&apos; push, I was looking at KiokuDB for persistence.&amp;nbsp; I went through the KiokuDB::Tutorial and kept wondering why the DBI backend did it the way it did: Objects encoded into JSPON blobs, stored in..."
    dc:creator="jamesw"
    dc:date="2009-05-07T13:05:40-08:00" />
</rdf:RDF>
-->

<div id="entry-222" class="entry-asset asset hentry">
    <div class="asset-header">
        <h2 class="asset-name entry-title"><a href="on-kiokudb.html">On KiokuDB</a></h2>
        <div class="asset-meta">
    <span class="byline vcard">

        By <address class="vcard author"><a class="fn url" href="http://www.loveandnature.co.za">jamesw</a></address> on <abbr class="published" title="2009-05-07T13:05:40-08:00">May  7, 2009  1:05 PM

    </span>
    <span class="separator">|</span> <a class="permalink" rel="bookmark" href="on-kiokudb.html">Permalink</a>
    
        | <a href="on-kiokudb.html#comments">Comments (3)</a>
        
    
</div>

    </div>
    <div class="asset-content entry-content">

        <div class="asset-body">
            So as part of this 'Modern Perl' push, I was looking at <a href="http://www.iinteractive.com/kiokudb/">KiokuDB</a> for persistence.&nbsp; <br /><br />I went through the KiokuDB::Tutorial and kept wondering why the <a href="http://dbi.perl.org/">DBI</a> backend did it the way it did: Objects encoded into <a href="http://www.jspon.org/?mode=html">JSPON</a> blobs, stored in a single field in an 'entries' table, with "indexing" in a separate table.&nbsp; <br /><br />I could understand that that probably works well for the BerkeleyDB backend, but putting relational data into a single, essentially unindexable (doing a JOIN from another table with 'index' data doesn't count) blob field is something you really shouldn't be doing in an RDBMS.&nbsp; Basically it moves data validation and management out of the database where it belongs and into the application (A very Rails-ish way of doing things, and that is a bad thing), and making reporting or other analysis of the data impossible without the additional overhead of a Javascript/JSON library.<br /><br />So while reading I thought of several alternatives that I would have used instead, mostly PostgreSQL-specific (since that is where I live):<br /><br /><ul><li>Using PL/Perl and JSON::Any to create a set of functions for inspecting the JSPON data, which could then provide real indexing with PostgreSQL's functional indexes and make reporting possible without too much overhead on the client;</li><li>Storing the data in XML in an XML field and using PostgreSQL's XML/XPath functions for indexing/reporting on the data;</li><li>Creating a custom type for each persisted class and creating a separate table for each class containing an ID field and a field of that specific type;</li></ul>Upon thinking of the last one on the list, I realised that since CREATE TABLE actually creates a custom type in PostgeSQL, skipping the whole custom type dance, and just creating a database table for each persisted class would work and be the ideal solution.&nbsp; Have a mapping between Moose types and SQL types, create references with foreign keys, provide real indexes on single and multivalued types and enable easy integration with other tools for data reporting and analysis.<br /><br />Sadly, I doubt that Kioku's DBI backend will change at this stage, so I will probably have to write it myself, and will probably remain PostgreSQL-specific for a while.&nbsp; That is, if I find myself with the need for KiokuDB-level persistence (I usually go from database to code, not the other way round).<br /><br /><br /><br />
        </div>



    </div>
    <div class="asset-footer"></div>
</div>

    


<div class="content-nav">
    
    <a href="../04/index.html">&laquo; April 2009</a> |
    
    <a href="../../../perl">Main Index</a> |
    <a href="../../archives.html">Archives</a>
    
    | <a href="../06/index.html">June 2009 &raquo;</a>
    
</div>

                        </div>
                    </div>

                <div id="beta">
    <div id="beta-inner">

    <div class="widget-search widget">
    <h3 class="widget-header">Search</h3>
    <div class="widget-content">
        <form method="get" action="http://blogs.loveandnature.co.za/mt/search">
            <input type="text" id="search" class="ti" name="search" value="" />

            <input type="hidden" name="IncludeBlogs" value="21" />

            <input type="submit" accesskey="4" value="Search" />
        </form>
    </div>
</div>

<div class="widget-about-this-page widget">
    <h3 class="widget-header">

    
        About this Archive
    


    </h3>
    <div class="widget-content">





        <p class="first">This page is an archive of entries from <strong>May 2009</strong> listed from newest to oldest.</p>
    
        <p><a href="../04/index.html">April 2009</a> is the previous archive.</p>
    
    
        <p><a href="../06/index.html">June 2009</a> is the next archive.</p>
    


        <p>Find recent content on the <a href="../../../perl">main index</a> or look in the <a href="../../archives.html">archives</a> to find all content.</p>

    </div>
</div>





    
<div class="widget-archive widget-archive-category widget">
    <h3 class="widget-header">Categories</h3>
    <div class="widget-content">
    
    </div>
</div>




    
    
        
<div class="widget-archive-monthly widget-archive widget">
    <h3 class="widget-header">Monthly <a href="../../archives.html">Archives</a></h3>
    <div class="widget-content">
        <ul class="widget-list">
        
            <li class="widget-list-item"><a href="../../2010/06/index.html">June 2010 (1)</a></li>
        
    
        
            <li class="widget-list-item"><a href="../../2010/05/index.html">May 2010 (1)</a></li>
        
    
        
            <li class="widget-list-item"><a href="../08/index.html">August 2009 (1)</a></li>
        
    
        
            <li class="widget-list-item"><a href="../07/index.html">July 2009 (1)</a></li>
        
    
        
            <li class="widget-list-item"><a href="../06/index.html">June 2009 (1)</a></li>
        
    
        
            <li class="widget-list-item"><a href="index.html">May 2009 (3)</a></li>
        
    
        
            <li class="widget-list-item"><a href="../04/index.html">April 2009 (1)</a></li>
        
        </ul>
    </div>
</div>
        
    




<div class="widget-pages widget">
    <h3 class="widget-header">Pages</h3>
    <div class="widget-content">
    
    
   </div>
</div>

<script type="text/javascript" src="../../mt.js"></script>
<div class="widget-sign-in widget">
    <h3 class="widget-header">Sign In</h3>
    <div class="widget-content">
<script type="text/javascript">
<!--
var name, id, url, blog_ids;
if (typeof(commenter_name) != 'undefined')
    name = commenter_name
if (typeof(commenter_id) != 'undefined')
    id = commenter_id;
if (typeof(commenter_url) != 'undefined')
    url = commenter_url;
if (typeof(commenter_blog_ids) != 'undefined')
    blog_ids = commenter_blog_ids;

if (!name && !id) {
    if ('blogs.loveandnature.co.za' != 'blogs.loveandnature.co.za') {
        document.write('<scr' + 'ipt src="http://blogs.loveandnature.co.za/mt/comments?__mode=cmtr_name_js">');
        document.write("</scr" + "ipt>");
    } else {
        name = getCookie('commenter_name');
        ids = getCookie('commenter_id').split(':');
        id = ids[0];
        blog_ids = ids[1];
        url = getCookie('commenter_url');
    }
}
showMessage(name, id, url);

function showMessage(commenter_name, commenter_id, commenter_url) {
    static = location.href;
    if ( commenter_name &&
         ( !commenter_id 
        || commenter_blog_ids.indexOf("'21'") > -1))
    {
        var url;
        if (commenter_id) {
            url = 'http://blogs.loveandnature.co.za/mt/comments?__mode=edit_profile&commenter=' + commenter_id + '&blog_id=21';
            url += '&static=' + static;
        } else if (commenter_url) {
            url = commenter_url;
        } else {
            url = null;
        }
        var content = 'You are signed in as ';
        if (url) {
            content += '<a href="' + url + '">' + commenter_name + '</a>';
        } else {
            content += commenter_name;
        }
        content += '.  (<a href="http://blogs.loveandnature.co.za/mt/comments?__mode=handle_sign_in&amp;logout=1&static=' + static + '">sign out</a>)';
        document.write(content);
    } else if (commenter_name) {
        document.write('You do not have permission to sign in to this blog. (<a href="http://blogs.loveandnature.co.za/mt/comments?__mode=handle_sign_in&amp;logout=1&static=' + static + '">sign out</a>)');
    } else {
    
    }
}
//-->
</script>
    </div>
</div>
<div class="widget-syndication widget">
    <div class="widget-content">
        <ul class="blog-feeds">
            <li class="blog feed"><img src="http://blogs.loveandnature.co.za/mt-static/images/status_icons/feed.gif" alt="Subscribe to feed" width="9" height="9" /> <a href="../../rss.xml">Subscribe to this blog's feed</a></li>

        </ul>
    </div>
</div>


    </div>
</div>



                </div>
            </div>
            <div id="footer">
                <div id="footer-inner">
                    <div id="footer-content">
                        <div class="widget-powered widget">
                            <div class="widget-content">
                                Powered by <a href="http://www.movabletype.com/">Movable Type Open Source</a>
                            </div>
                        </div>

                        <div class="widget-creative-commons widget">
                            <div class="widget-content">
                                This blog is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons License</a>.
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

